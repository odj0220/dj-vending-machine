# dj-vending-machine
## 사용 방법
코드를 로컬에 다운로드 후 index.html 파일 실행

## 자판기 시스템 유즈케이스별 다이어그램
| UC 코드 | 유즈케이스      | 설명                                          | 함수/역할                               |
| ----- |-------------|---------------------------------------------|-------------------------------------|
| UC1   | 음료 선택       | 사용자가 원하는 음료 버튼을 클릭하여 선택합니다.                 | setupProductSelection()             |
| UC2   | 결제 수단 선택    | 현금 또는 카드 중 하나의 결제 수단을 선택합니다.                | setupPaymentMethod()                | 
| UC3   | 현금 투입       | 사용자가 버튼을 눌러 화폐 단위별 금액을 투입합니다.             | setupCashButtons()                  | 
| UC4   | 결제 확인 버튼 클릭 | "결제하기" 버튼을 눌러 결제를 시작합니다.                  | setupPaymentConfirmation() (클릭시 실행) | 
| UC5   | 현금 결제 처리    | 투입 금액이 충분한지, 잔돈이 가능한지 검증 후 결제를 처리합니다.     | processCashPayment()                | 
| UC6   | 카드 결제 처리    | 카드 결제 시도 및 승인 여부 판단 (95% 성공 시뮬레이션)        | processCardPayment()                | 
| UC7   | 거래 초기화      | 결제 후 자판기 상태 초기화 (선택, 금액, UI 등 초기 상태로 되돌림) | resetTransaction()                  | 
| UC8   | 로그 출력       | 각 단계의 결과를 로그 영역에 텍스트로 출력합니다.        | log() 함수 호출로 모든 단계에서 로그 남김          | 

### 유즈케이스 다이어그램
```
[사용자]
   │
   ├──> UC1: 음료 선택
   │
   ├──> UC2: 결제 수단 선택
   │        ├─> if 현금 → UC3: 금액 투입
   │        └─> if 카드 → 바로 UC4로
   │
   ├──> UC4: 결제하기 클릭
   │        ├─> if 현금 → UC5: 현금 결제 처리
   │        │       ├─> 성공 → UC7: 초기화, UC8: 로그 출력
   │        │       └─> 실패 → UC8: 실패 로그
   │        └─> if 카드 → UC6: 카드 결제 처리
   │                ├─> 승인 → UC7, UC8
   │                └─> 실패 → UC8
   │
   └──> UC8: 로그 출력 (모든 단계에서 실행)
```
### 예외 케이스 요약
| 예외 상황               | 처리 방법                |
| ------------------- | -------------------- |
| 음료를 선택하지 않음         | 결제 시 경고(alert)       |
| 결제 수단을 선택하지 않음      | 결제 시 경고(alert)       |
| 현금 부족               | 결제 실패 + 로그 출력        |
| 거스름돈 부족             | 결제 실패 + 거래 초기화       |
| 카드 승인 실패 (5% 확률)    | 실패 alert + 로그 출력     |
| 정상 결제 후에도 모든 상태 초기화 | `resetTransaction()` |

### 로그 예시
```
✅ 음료 선택: 콜라
✅ 결제 수단 선택: 현금
💰 현금 투입: 500원 (총: 500원)
💰 현금 투입: 1000원 (총: 1500원)
✅ 콜라 제공 완료. 거스름돈: 400원
✅ 거래 초기화 완료.
```
