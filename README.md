# dj-vending-machine
## 유즈케이스별로 나눈 다이어그램
[사용자] --> (UC1: 음료 선택)
- 예외: 선택한 음료 재고 없음 -> (UC8: 오류 처리)

(UC1: 음료 선택) --> (UC2: 결제 수단 선택)

(UC2: 결제 수단 선택)
- 현금 선택 -> (UC3: 금액 투입)
- 카드 선택 -> (UC4: 카드 결제)

(UC3: 금액 투입)
- 금액 입력: 100, 500, 1000, 5000, 10000원 중 하나만 가능
- 예외1: 지원하지 않는 화폐 투입 -> (UC8: 오류 처리)
- 예외2: 투입 금액 합산 < 음료 가격 -> (UC3: 추가 금액 투입 요청)
- 예외3: 투입 금액 합산 >= 음료 가격 -> (UC5: 금액 확인 및 처리)

(UC4: 카드 결제)
- 카드 승인 요청 -> 카드사 응답 대기
- 승인 실패 -> (UC8: 오류 처리 및 거래 취소)
- 승인 성공 -> (UC5: 금액 확인 및 처리)

(UC5: 금액 확인 및 처리)
- 현금 투입 시 잔액 계산
- 잔액 >= 0
    - 잔액 > 0 -> (UC7: 거스름돈 반환)
    - 잔액 == 0 -> 다음 단계 진행
- 예외: 거스름돈 부족 -> (UC8: 오류 처리 및 전액 환불)

(UC6: 음료 제공)
- 재고 차감
- 음료 제공

(UC7: 거스름돈 반환)
- 거스름돈 반환 성공
- 예외: 거스름돈 부족 -> (UC8: 오류 처리 및 전액 환불)

(UC8: 오류 처리)
- 지원하지 않는 화폐 투입
- 금액 부족
- 카드 승인 실패
- 재고 부족
- 거스름돈 부족
- 거래 취소 시 처리 (UC9)

(UC9: 거래 취소)
- 거래 취소 요청 발생
- 투입된 현금 환불 또는 카드 결제 취소

[사용자] <-- (UC6: 음료 제공)

[사용자] <-- (UC7: 거스름돈 반환)

[사용자] <-- (UC8: 오류 처리)

[사용자] <-- (UC9: 거래 취소)

## 다이어그램 설명
UC1: 음료 선택
사용자가 음료를 선택. 재고가 없으면 오류 처리로 이동.

UC2: 결제 수단 선택
현금/카드 중 하나를 선택.

UC3: 금액 투입 (현금 결제 시)
허용된 화폐 단위만 입력 가능. 부족하면 계속 추가 투입 요구.

UC4: 카드 결제
카드 승인 요청 및 응답 처리.

UC5: 금액 확인 및 처리
금액 비교, 잔액 계산 및 거스름돈 처리 가능 여부 판단.

UC6: 음료 제공
재고 차감 후 음료 제공.

UC7: 거스름돈 반환
잔돈 반환 처리, 거스름돈 부족시 오류 처리.

UC8: 오류 처리
각종 예외 상황 대응 및 사용자 알림.

UC9: 거래 취소
사용자가 원할 때 혹은 오류 발생 시 거래 취소 및 환불 처리.
